<!DOCTYPE html>
<html>
<head>
  <title>Monster Hit Points Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    h1 {
      text-align: center;
    }

    form {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 20px;
      border: 1px solid black;
      padding: 10px;
    }

    label {
      margin-right: 10px;
    }

    select {
      margin-bottom: 10px;
    }

    button {
      margin-top: 20px;
    }

    #output {
      margin-top: 20px;
      text-align: center;
    }
  </style>
</head>
<body>
    <h1>Monster Hit Points Calculator</h1>
    <style>
      p {
          text-align: center;
      }
  </style>
  
  <p>Primary Threat Category</p>

<style>
    select {
        text-align: center;
    }
</style>

<select>
    <option>melee</option>
    <option>natural</option>
    <option>ranged</option>
    <option>arcane</option>
</select>    

    <form onsubmit="event.preventDefault(); calculateThreat()">
        <label for="monsterType">Monster Nature:</label>
        <select id="monsterType" name="monsterType">
            <option value="1">Mundane</option>
            <option value="2">Magical</option>
            <option value="3">Preternatural</option>
            <option value="4">Supernatural</option>
        </select>

        <label for="monsterSize">Monster Size:</label>
        <select id="monsterSize" name="monsterSize">
            <option value="1">Small or Medium</option>
            <option value="2">Large</option>
            <option value="3">Huge</option>
            <option value="4">Gargantuan</option>
            <option value="0">Minuscule or Tiny</option>
        </select>

        <label for="Tier 1 Threat--Minor">Minor Threat (MV):</label>
        <select id="Tier 1 Threat--Minor" name="minor">
            <option value="4">d4</option>
            <option value="6">d6</option>
            <option value="8">d8</option>
            <option value="10">d10</option>
            <option value="12">d12</option>
            <option value="14">d14</option>
            <option value="16">d16</option>
            <option value="18">d18</option>
            <option value="20">d20</option>
        </select>

        <label for="Tier2AddsStandardDie">Standard Threat (MV):</label>
        <select id="Tier2AddsStandardDie" name="standard">
            <option value="0">None</option>
            <option value="4">d4</option>
            <option value="6">d6</option>
            <option value="8">d8</option>
            <option value="10">d10</option>
            <option value="12">d12</option>
            <option value="14">d14</option>
            <option value="16">d16</option>
            <option value="18">d18</option>
            <option value="20">d20</option>
        </select>

        <label for="Tier3AddExceptionalDie">Exceptional Threat (MV):</label>
        <select id="Tier3AddExceptionalDie" name="exceptional">
            <option value="0">None</option>
            <option value="4">d4</option>
            <option value="6">d6</option>
            <option value="8">d8</option>
            <option value="10">d10</option>
            <option value="12">d12</option>
            <option value="14">d14</option>
            <option value="16">d16</option>
            <option value="18">d18</option>
            <option value="20">d20</option>
        </select>

        <label for="monsterArmor">Monster Armor:</label>
        <select id="monsterArmor" name="monsterArmor">
            <option value="0">None</option>
            <option value="2">Hide</option>
            <option value="3">Leather</option>
            <option value="4">Chain</option>
            <option value="5">Plate</option>
            <option value="6">Magical</option>
        </select>

        <button type="submit" id="calculateHitPoints">Calculate Hit Points</button>
    </form>

    <div id="output"></div>

    <script>
    function calculateHitPoints(ThreatMinor, ThreatStandard, ThreatExceptional, creatureSize, creatureNature, armorBonus) {
        let sizeModifier = parseFloat(creatureSize);
        let natureModifier = parseFloat(creatureNature);

        let totalModifier = (sizeModifier + natureModifier) / 2;
        let totalHitPoints = ThreatMinor + ThreatStandard + ThreatExceptional;
        let finalHitPoints = Math.ceil(totalHitPoints * totalModifier);

        finalHitPoints += armorBonus; // Add armor bonus to final hit points

        return finalHitPoints;
    }

    function calculateThreat() {
        let minor = document.getElementById("Tier 1 Threat--Minor").value;
        let standard = document.getElementById("Tier2AddsStandardDie").value;
        let exceptional = document.getElementById("Tier3AddExceptionalDie").value;
        let armorBonus = parseFloat(document.getElementById("monsterArmor").value);

        let threat = "";
        if (minor !== "0" && standard === "0" && exceptional === "0") {
            threat = "a Minor";
        } else if (standard === "0" && exceptional !== "0") {
            threat = "a Standard";
        } else if (standard !== "0" && exceptional === "0") {
            threat = "a Standard";
        } else if (standard === "0" && exceptional === "0") {
            threat = "a Minor";
        } else {
            threat = "an Exceptional";
        }

        let hitPoints = calculateHitPoints(
            parseInt(minor),
            parseInt(standard),
            parseInt(exceptional),
            parseFloat(document.getElementById("monsterSize").value),
            parseFloat(document.getElementById("monsterType").value),
            armorBonus
        );

        document.getElementById("output").innerHTML = `
            <p>Final hit points (after applying size, nature, and armor modifiers) is ${hitPoints}.</p>
            <p>This creature is ${threat} threat.</p>
        `;
    }
</script>


</body>
</html>